<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>

<AnchorPane fx:id="usuariosRoot" prefHeight="1063.0" prefWidth="920.0" styleClass="usuarios-root" stylesheets="@../styles/usuarios.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.UsuariosController">

    <!-- 游댳 Encabezado -->
    <VBox fx:id="headerUsuarios" alignment="CENTER" layoutY="20.0" prefWidth="899.0" spacing="5.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="20.0">
        <Label fx:id="labelTituloUsuarios" styleClass="usuario-title" text="Gesti칩n de Usuarios" />
        <Label fx:id="labelUsuarioActivo" styleClass="usuario-user" text="Usuario Activo" />
    </VBox>

    <!-- 游댳 Formulario de Usuario -->
    <Label fx:id="labelNombre" layoutX="230.0" layoutY="115.0" styleClass="usuario-label" text="Usuario:" />
    <TextField fx:id="txtNombre" layoutX="340.0" layoutY="110.0" prefWidth="300.0" promptText="Nombre de usuario" styleClass="usuario-input" />

    <Label fx:id="labelEmail" layoutX="230.0" layoutY="155.0" styleClass="usuario-label" text="Email:" />
    <TextField fx:id="txtEmail" layoutX="340.0" layoutY="150.0" prefWidth="300.0" promptText="Correo electr칩nico" styleClass="usuario-input" />

    <Label fx:id="labelPassword" layoutX="230.0" layoutY="195.0" styleClass="usuario-label" text="Contrase침a:" />
    <PasswordField fx:id="txtPassword" layoutX="340.0" layoutY="190.0" prefWidth="300.0" promptText="Contrase침a" styleClass="usuario-input" />

    <Label fx:id="labelRol" layoutX="230.0" layoutY="235.0" styleClass="usuario-label" text="Rol:" />
    <ComboBox fx:id="comboRol" layoutX="340.0" layoutY="230.0" prefWidth="300.0" promptText="Selecciona el rol" styleClass="usuario-combo" />

    <!-- 游댳 Lista de permisos -->
    <Label fx:id="labelPermisos" layoutX="230.0" layoutY="280.0" styleClass="usuario-label" text="Permisos:" />
    <ListView fx:id="listPermisos" layoutX="340.0" layoutY="275.0" prefHeight="120.0" prefWidth="300.0" styleClass="usuario-listview" />

    <Text layoutX="400.0" layoutY="410.0" style="-fx-font-size: 11px; -fx-fill: gray;" text="(Mant칠n CTRL para seleccionar varios)" />

    <!-- 游댳 Botones CRUD -->
    <HBox fx:id="hboxBotonesCRUD" layoutX="308.0" layoutY="440.0" spacing="10.0">
        <children>
            <Button fx:id="btnAgregar" onAction="#agregarUsuario" styleClass="usuario-button-success" text="Agregar" />
            <Button fx:id="btnActualizar" onAction="#actualizarUsuario" styleClass="usuario-button-warning" text="Actualizar" />
            <Button fx:id="btnEliminar" onAction="#eliminarUsuario" styleClass="usuario-button-danger" text="Eliminar" />
            <Button fx:id="btnLimpiar" onAction="#limpiarFormulario" styleClass="usuario-button-secondary" text="Limpiar" />
        </children>
    </HBox>

    <!-- 游댳 Buscador -->
    <TextField fx:id="txtBuscarUsuario" layoutX="50.0" layoutY="500.0" prefHeight="38.0" prefWidth="817.0" promptText="Buscar usuarios por nombre, email, rol o permiso" styleClass="usuario-search" />

    <!-- 游댳 Tabla de Usuarios -->
    <TableView fx:id="tablaUsuarios" layoutX="50.0" layoutY="560.0" prefHeight="380.0" prefWidth="817.0" styleClass="usuario-table">
        <columns>
            <TableColumn fx:id="colId" prefWidth="60.0" text="ID" />
            <TableColumn fx:id="colNombre" prefWidth="160.0" text="Usuario" />
            <TableColumn fx:id="colEmail" prefWidth="200.0" text="Email" />
            <TableColumn fx:id="colRol" prefWidth="160.0" text="Rol" />
            <TableColumn fx:id="colPermiso" prefWidth="236.0" text="Permisos" />
        </columns>
    </TableView>

    <!-- 游댳 Mensaje de estado -->
    <Label fx:id="labelMensaje" alignment="CENTER" layoutX="220.0" layoutY="960.0" prefHeight="30.0" prefWidth="480.0" styleClass="usuario-message" text="" />

    <!-- 游댳 Bot칩n volver -->
    <Button fx:id="btnVolver" layoutX="380.0" layoutY="1010.0" onAction="#volverDashboard" styleClass="usuario-button-primary" text="Volver al Dashboard" />
</AnchorPane>
