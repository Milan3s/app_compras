<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.VBox?>

<AnchorPane fx:id="listadoCompraRoot" prefHeight="1109.0" prefWidth="1525.0" styleClass="listado-compra-root" stylesheets="@../styles/listado_de_compras.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.ListadoDeComprasController">

    <VBox spacing="5.0" alignment="CENTER" layoutY="20.0" prefWidth="1525.0">
        <Label fx:id="labelTituloListadoCompra" text="Listado de Compras" styleClass="listado-compra-title" />
        <Label fx:id="labelUsuarioActivoListadoCompra" text="a" styleClass="listado-compra-user" />
    </VBox>

    <!-- Campo de bÃºsqueda -->
    <TextField fx:id="txtBuscarListadoCompra" layoutX="59.0" layoutY="139.0" prefHeight="38.0" prefWidth="1410.0" promptText="Buscar por nombre de compra, usuario, producto o tienda" styleClass="listado-compra-search" />

    <!-- Tabla de detalles de compras -->
    <TableView fx:id="tablaListadoCompra" layoutX="59.0" layoutY="211.0" prefHeight="704.0" prefWidth="1429.0" editable="true" styleClass="listado-compra-table">
        <columns>
            <TableColumn fx:id="colListadoCompraIdDetalle" styleClass="listado-compra-col" text="ID Detalle" editable="false" />
            <TableColumn fx:id="colListadoCompraNombreCompra" prefWidth="168.0" styleClass="listado-compra-col" text="Nombre de Compra" editable="false" />
            <TableColumn fx:id="colListadoCompraUsuario" prefWidth="114.0" styleClass="listado-compra-col" text="Usuario" editable="false" />
            <TableColumn fx:id="colListadoCompraProducto" prefWidth="136.0" styleClass="listado-compra-col" text="Producto" editable="false" />
            <TableColumn fx:id="colListadoCompraTienda" prefWidth="181.0" styleClass="listado-compra-col" text="Tienda" editable="false" />
            <TableColumn fx:id="colListadoCompraCantidad" prefWidth="135.0" styleClass="listado-compra-col" text="Cantidad" editable="true" />
            <TableColumn fx:id="colListadoCompraPrecioUnitario" prefWidth="231.0" styleClass="listado-compra-col" text="Precio Unitario (â‚¬)" editable="true" />
            <TableColumn fx:id="colListadoCompraSubtotal" prefWidth="185.0" styleClass="listado-compra-col" text="Subtotal (â‚¬)" editable="false" />
            <TableColumn fx:id="colListadoCompraFecha" prefWidth="198.0" styleClass="listado-compra-col" text="Fecha Compra" editable="false" />
        </columns>
    </TableView>

    <!-- Mensaje de estado -->
    <Label fx:id="labelMensajeListadoCompra" alignment="CENTER" layoutX="401.0" layoutY="995.0" prefHeight="38.0" prefWidth="723.0" styleClass="listado-compra-message" text="Estado..." />

    <!-- ðŸ”½ Zona inferior: selecciÃ³n, total e impresiÃ³n -->
    <Label fx:id="labelSeleccionUsuarioListadoCompra" layoutX="380.0" layoutY="943.0" styleClass="listado-compra-label" text="Selecciona un usuario :" />
    <ComboBox fx:id="comboUsuariosListadoCompra" layoutX="560.0" layoutY="943.0" onAction="#filtrarPorUsuarioSeleccionado" prefHeight="38.0" prefWidth="217.0" promptText="Selecciona un usuario..." styleClass="listado-compra-combo" />
    <Button fx:id="btnImprimirListadoCompra" layoutX="800.0" layoutY="943.0" prefHeight="38.0" prefWidth="160.0" text="Imprimir" styleClass="listado-compra-button-secondary" onAction="#imprimirListado" disable="true" />
    <Label fx:id="labelTotalGastadoListadoCompra" layoutX="980.0" layoutY="944.0" prefHeight="28.0" prefWidth="331.0" styleClass="listado-compra-total" text="Total gastado : 0.00 â‚¬" />

    <!-- BotÃ³n Volver -->
    <Button fx:id="btnVolverListadoCompra" layoutX="685.0" layoutY="1045.0" onAction="#volverDashboard" styleClass="listado-compra-button-primary" text="Volver al Dashboard" />

</AnchorPane>
